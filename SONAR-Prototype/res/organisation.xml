<?xml version="1.0" encoding="utf-8"?>

<organisation>
    <protocols>
        <protocol>
            <name>arrangeCelebration</name>
                <roles>
                    <role>landlord</role>
                    <role>smarthome</role>
                </roles>
            <file>file:///C:/organisation/protocols/arrangeCelebration.rnw</file>
        </protocol>
        <protocol>
            <name>arrangeCelebration1</name>
                <roles>
                    <role>cook</role>
                    <role>butler</role>
                </roles>
            <file>file:///C:/organisation/protocols/arrangeCelebration1.rnw</file>
        </protocol>
        <protocol>
            <name>arrangeCelebration2</name>
            <roles>
                <role>cook2</role>
                <role>baker</role>
            </roles>
            <file>file:///C:/organisation/protocols/arrangeCelebration2.rnw</file>
        </protocol>
        <protocol>
            <name>arrangeCelebration3</name>
            <roles>
                <role>butler2</role>
                <role>brewer</role>
            </roles>
			<file>file:///C:/organisation/protocols/arrangeCelebration3.rnw</file>
		</protocol>
    </protocols>
    <opas>
        <opa>
            <name>O1</name>
            <tasks>
                <exec>
                    <input>
                        <protocol>arrangeCelebration</protocol>
                        <role>landlord</role>
                    </input>
                </exec>
                <split>
                    <input>
                        <protocol>arrangeCelebration</protocol>
                        <roles>
                            <role>landlord</role>
                            <role>smarthome</role>
                        </roles>
                    </input>
                    <outputs>
                        <output>
                            <protocol>arrangeCelebration</protocol>
                            <role>landlord</role>
                        </output>
                        <output>
                            <protocol>arrangeCelebration</protocol>
                            <role>smarthome</role>
                        </output>
                    </outputs>
                </split>
                <refine>
                    <input>
                        <protocol>arrangeCelebration</protocol>
                        <role>smarthome</role>
                    </input>
                    <output>
                        <protocol>arrangeCelebration1</protocol>
                        <roles>
                            <role>cook</role>
                            <role>butler</role>
                        </roles>
                    </output>
                </refine>
                <deleg>
                    <input>
                        <protocol>arrangeCelebration1</protocol>
                        <role>cook</role>
                    </input>
                    <to>O2</to>
                </deleg>
                <deleg>
                    <input>
                        <protocol>arrangeCelebration1</protocol>
                        <role>butler</role>
                    </input>
                    <to>O3</to>
                </deleg>
            </tasks>
            <resources>
                <resource>resourceDummy1</resource>
            </resources>
            <communicationProtocols>
                <communicationProtocol>
                    <name>protocolDummy1</name>
                </communicationProtocol>
            </communicationProtocols>
        </opa>
        <opa>
            <name>O2</name>
            <tasks>
                <exec>
                    <input>
                        <protocol>arrangeCelebration1</protocol>
                        <role>cook</role>
                    </input>
                </exec>
                <exec>
                    <input>
                        <protocol>arrangeCelebration2</protocol>
                        <role>cook2</role>
                    </input>
                </exec>
                <split>
                    <input>
                        <protocol>arrangeCelebration2</protocol>
                        <roles>
                            <role>cook2</role>
                            <role>baker</role>
                        </roles>
                    </input>
                    <outputs>
                        <output>
                            <protocol>arrangeCelebration2</protocol>
                            <role>cook2</role>
                        </output>
                        <output>
                            <protocol>arrangeCelebration2</protocol>
                            <role>baker</role>
                        </output>
                    </outputs>
                </split>
                <refine>
                    <input>
                        <protocol>arrangeCelebration1</protocol>
                        <role>cook</role>
                    </input>
                    <output>
                        <protocol>arrangeCelebration2</protocol>
                        <roles>
                            <role>cook2</role>
                            <role>baker</role>
                        </roles>
                    </output>
                </refine>
                <deleg>
                    <input>
                        <protocol>arrangeCelebration2</protocol>
                        <role>baker</role>
                    </input>
                    <to>O4</to>
                </deleg>
            </tasks>
            <resources>
                <resource>resourceDummy2</resource>
                <resource>resourceDummy6</resource>
            </resources>
			<communicationProtocols>
            <communicationProtocol>
                <name>protocolDummy1</name>
            </communicationProtocol>
        </communicationProtocols>
        </opa>
        <opa>
            <name>O3</name>
            <tasks>
                <exec>
                    <input>
                        <protocol>arrangeCelebration1</protocol>
                        <role>butler</role>
                    </input>
                </exec>
                <exec>
                    <input>
                        <protocol>arrangeCelebration3</protocol>
                        <role>butler2</role>
                    </input>
                </exec>
                <split>
                    <input>
                        <protocol>arrangeCelebration3</protocol>
                        <roles>
                            <role>butler2</role>
                            <role>brewer</role>
                        </roles>
                    </input>
                    <outputs>
                        <output>
                            <protocol>arrangeCelebration3</protocol>
                            <role>butler2</role>
                        </output>
                        <output>
                            <protocol>arrangeCelebration3</protocol>
                            <role>brewer</role>
                        </output>
                    </outputs>
                </split>
                <refine>
                    <input>
                        <protocol>arrangeCelebration1</protocol>
                        <role>butler</role>
                    </input>
                    <output>
                        <protocol>arrangeCelebration3</protocol>
                        <roles>
                            <role>butler2</role>
                            <role>brewer</role>
                        </roles>
                    </output>
                </refine>
                <deleg>
                    <input>
                        <protocol>arrangeCelebration3</protocol>
                        <role>brewer</role>
                    </input>
                    <to>O5</to>
                </deleg>
            </tasks>
            <resources>
                <resource>resourceDummy3</resource>
                <resource>resourceDummy7</resource>
            </resources>
            <communicationProtocols>
                <communicationProtocol>
                    <name>protocolDummy2</name>
                </communicationProtocol>
            </communicationProtocols>
        </opa>
        <opa>
            <name>O4</name>
            <tasks>
                <exec>
                    <input>
                        <protocol>arrangeCelebration2</protocol>
                        <role>baker</role>
                    </input>
                </exec>
            </tasks>
            <resources>
                <resource>resourceDummy4</resource>
            </resources>
            <communicationProtocols>
                <communicationProtocol>
                    <name>protocolDummy4</name>
                </communicationProtocol>
            </communicationProtocols>
        </opa>
        <opa>
            <name>O5</name>
            <tasks>
                <exec>
                    <input>
                        <protocol>arrangeCelebration3</protocol>
                        <role>brewer</role>
                    </input>
                </exec>
            </tasks>
            <resources>
                <resource>resourceDummy5</resource>
            </resources>
            <communicationProtocols>
                <communicationProtocol>
                    <name>protocolDummy5</name>
                </communicationProtocol>
            </communicationProtocols>
        </opa>
    </opas>
</organisation>
